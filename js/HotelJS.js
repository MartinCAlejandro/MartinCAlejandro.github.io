const e=1,t=2,n=0,o=4,d=5;var l=0,i=moment();""==document.getElementById("fecha").value&&(document.getElementById("fecha").value=i.format("YYYY-MM-DD")),window.onload=function(){for(let e=1;e<=1;e++)$()};var a=document.getElementsByTagName("label");for(let e=0;e<a.length;e++)a[e].setAttribute("class",a[e].getAttribute("class")+" Text-white");document.getElementById("fecha").setAttribute("type","date"),document.getElementById("fecha").setAttribute("min",i.format("YYYY-MM-DD"));const u=30,r=[4,7,10,14];let c=document.getElementById("noches");var m=document.createElement("select");m.setAttribute("id",c.getAttribute("id")),m.setAttribute("class",c.getAttribute("class")),m.setAttribute("name","selectNoches");var s=document.createElement("optgroup");s.setAttribute("label","Duraciones Populares"),r.forEach(e=>{let t=document.createElement("option");t.setAttribute("value",e),t.innerHTML=1==e?`${e} Noche`:`${e} Noches`,s.appendChild(t)}),m.appendChild(s);var b=document.createElement("optgroup");b.setAttribute("label","Duraciones por día");for(let e=1;e<=30;e++){let t=document.createElement("option");t.setAttribute("value",e),t.innerHTML=1==e?`${e} Noche`:`${e} Noches`,b.appendChild(t)}m.appendChild(b),document.getElementById("noches").parentNode.replaceChild(m,c);var p=document.getElementById("habitaciones");p.setAttribute("readonly",!0);var h=document.createElement("div");h.setAttribute("id","divHabitaciones");let E=document.createElement("button");E.textContent="Hecho",E.setAttribute("type","button"),E.style="position: absolute; right:    0; bottom:   0;",E.addEventListener("click",v),h.appendChild(E);let g=document.createElement("button");function y(){document.getElementById("divHabitaciones").style.display="block",document.getElementById("habitaciones").removeEventListener("click",y)}function A(){let e=!0,t="Destino/Nombre del hotel:\n";""==document.getElementById("destino").value&&(e=!1),t+=document.getElementById("destino").value+"\n",t+="Fecha de registro:\n",t+=document.getElementById("fecha").value+"\n",t+="Nº de noches:\n",t+=document.getElementById(c.getAttribute("id")).value+" noches\n",t+="Nº de habitaciones y de huespedes:\n",t+=p.value+"\n",e?console.log(t):console.log("Debe introducir todos los datos")}function v(){let e=C();p.value=`${l} Habitación/es & ${e} Huésped/es `,document.getElementById("divHabitaciones").style.display="none",document.getElementById("habitaciones").addEventListener("click",y)}function C(){var e=0;for(let t=1;t<=l;t++)e+=parseInt(document.getElementById(`adultsRoom${t}`).value),e+=parseInt(document.getElementById(`childrenRoom${t}`).value);return e}function $(){l++;let e=document.createElement("div");e.setAttribute("id",`room${l}`);let i=document.createElement("h4");if(i.setAttribute("id",`enunciado${l}`),i.textContent=`${l}ª Habitación`,e.appendChild(i),1!=l){let t=document.createElement("button");t.textContent="x",t.setAttribute("class","buttonClose"),t.addEventListener("click",B),e.appendChild(t)}let a=document.createElement("form"),u=document.createElement("select"),r=document.createElement("label");r.textContent="Adultos   ",u.setAttribute("id",`adultsRoom${l}`);for(let e=1;e<5;e++){let n=document.createElement("option");n.setAttribute("value",e),n.textContent=e,e==t&&n.setAttribute("selected",!0),u.appendChild(n)}a.appendChild(r),a.appendChild(u);let c=document.createElement("br");a.appendChild(c);let m=document.createElement("select");m.addEventListener("change",I);let s=document.createElement("label");s.textContent="Niños   ",m.setAttribute("id",`childrenRoom${l}`);for(let e=0;e<=o;e++){let t=document.createElement("option");t.setAttribute("value",e),t.textContent=e,e==n&&t.setAttribute("selected",!0),m.appendChild(t)}a.appendChild(s),a.appendChild(m),e.appendChild(a),h.appendChild(e),l==d&&(document.getElementById("buttonAdd").style="display:none")}function I(){for(let e=1;e<=this.value;e++){if(1==e){let e=document.createElement("label");e.textContent="Edad/es  ",null==document.getElementById(`room${this.parentNode.parentNode.getAttribute("id").substring(4)}ChildLabel`)&&(e.setAttribute("id",`room${this.parentNode.parentNode.getAttribute("id").substring(4)}ChildLabel`),this.parentNode.appendChild(e))}if(null==document.getElementById(`room${this.parentNode.parentNode.getAttribute("id").substring(4)}Child${e}`)){let t=document.createElement("select");t.setAttribute("id",`room${this.parentNode.parentNode.getAttribute("id").substring(4)}Child${e}`);for(let e=0;e<=17;e++){let n=document.createElement("option");n.textContent=e,t.appendChild(n)}this.parentNode.appendChild(t)}}for(j=parseInt(this.value)+1;j<=o;j++)1==j&&document.getElementById(`room${this.parentNode.parentNode.getAttribute("id").substring(4)}ChildLabel`).remove(),null!=document.getElementById(`room${this.parentNode.parentNode.getAttribute("id").substring(4)}Child${j}`)&&document.getElementById(`room${this.parentNode.parentNode.getAttribute("id").substring(4)}Child${j}`).remove()}function B(){let e=this.parentNode.getAttribute("id").substring(4);document.getElementById(`room${e}`).remove(),document.getElementById("buttonAdd").style="display:inline;position: absolute; left:    0; bottom:   0;",f(e)}g.textContent="Añadir",g.setAttribute("type","button"),g.setAttribute("id","buttonAdd"),g.style="position: absolute; left:    0; bottom:   0;",g.addEventListener("click",$),h.appendChild(g),document.getElementById("hoteles").appendChild(h),document.getElementById("habitaciones").addEventListener("click",y),document.getElementById("submit").addEventListener("click",A),document.getElementById("miFormulario").setAttribute("action","javascript:void(0);"),""==p.value&&(p.value=`1 Habitación/es & ${t+n} Huésped/es `);var f=e=>{for(let t=parseInt(e)+1;t<=l;t++){document.getElementById(`room${t}`).setAttribute("id",`room${t-1}`),document.getElementById(`enunciado${t}`).textContent=`${t-1}ª Habitación`,document.getElementById(`enunciado${t}`).setAttribute("id",`enunciado${t-1}`),document.getElementById(`adultsRoom${t}`).setAttribute("id",`adultsRoom${t-1}`);let e=document.getElementById(`childrenRoom${t}`).value;for(let n=1;n<=e;n++)document.getElementById(`room${t}Child${n}`).setAttribute("id",`room${t-1}Child${n}`);document.getElementById(`childrenRoom${t}`).setAttribute("id",`childrenRoom${t-1}`),null!=document.getElementById(`room${t}ChildLabel`)&&document.getElementById(`room${t}ChildLabel`).setAttribute("id",`room${t-1}ChildLabel`)}l--};